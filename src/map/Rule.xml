<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cy.ssm.mapper.RuleMapper">
	
	<sql id="ruleAllColumns">id,name,ruleDbUrl,ruleDbVersion</sql>
	<sql id="ruleColumns">name,ruleDbUrl,ruleDbVersion</sql>
	
	<resultMap type="Rule" id="ruleResultMap">
		<id column="id" property="id"/>
		<result column="name" property="name"/>
		<result column="ruleDbUrl" property="ruleDbUrl"/>
		<result column="ruleDbVersion" property="ruleDbVersion"/>
	</resultMap>
	
	<insert id="addRule" parameterType="Rule" useGeneratedKeys="true" keyProperty="id">
		insert t_rule (<include refid="ruleColumns"/>) values (#{name},#{ruleDbUrl},#{ruleDbVersion})
	</insert>
	
	<select id="findRule" parameterType="Rule" resultMap="ruleResultMap">
		select * from t_rule
	</select>
	
	<update id="updateRule" parameterType="Rule">
		update t_rule set name = #{name},ruleDbUrl = #{ruleDbUrl}, ruleDbVersion = #{ruleDbVersion}
	</update>
</mapper>